"use strict";$=jQuery;var $wrap=$(".classic-menu"),$menu=$wrap.find("#menu-main-menu"),menu_height=$menu.outerHeight(!0);function responsiveMenu(){IRON.state.responsive=!1;var s,e,l,i,o="dark"===IRON.state.logo.page_logo_select||"light"===IRON.state.logo.page_logo_select?IRON.state.logo.page_logo_select:IRON.state.logo.logo_select;void 0!==IRON.state.logo[o]&&(s=IRON.state.logo[o].url.slice(IRON.state.logo[o].url.indexOf("/")),e=IRON.state.logo[o].url_retina.slice(IRON.state.logo[o].url_retina.indexOf("/"))),i=""!=IRON.state.logo.responsive.url?l=IRON.state.logo.responsive.url.slice(IRON.state.logo.responsive.url.indexOf("/")):(i=IRON.state.logo.light_responsive?"light":"dark",l=IRON.state.logo[i].url.slice(IRON.state.logo[i].url.indexOf("/")),IRON.state.logo[i].url_retina.slice(IRON.state.logo[i].url_retina.indexOf("/"))),$(window).width()<1144?(IRON.state.responsive=!0,$(".classic-menu").addClass("responsive").removeClass("mini"),$(".classic-menu").find(".classic-menu-logo").attr("src",l),$(".classic-menu").find(".classic-menu-logo").attr("srcset",l+" 1x, "+i+" 2x"),$(".responsive-header").length<1&&($('<div class="responsive-header"><a class="sandwich-icon"></a></div>').prependTo(".menu-container"),0==jQuery(".languages-selector").children().length&&$(".languages-selector").remove(),$(".classic-menu > ul").height("auto"),$(".classic-menu > ul > li.menu-item").css("margin-top","auto")),$(".responsive-header").off().on("click",".sandwich-icon",function(s){return $(".classic-menu").is(".visible")?($(".sandwich-icon").removeClass("opened"),$(".classic-menu").removeClass("visible"),$(".classic-menu").scrollTop(0),!1):($(".sandwich-icon").addClass("opened"),void $(".classic-menu").addClass("visible"))}),$(".classic-menu ul li a").off().on("click",function(s){var e=$(this).parents("li");$(this).parents("#menu-main-menu").find("li").each(function(s){_.contains(e,this)||$(this).removeClass("active")}),$(this).closest("li").not(".logo").toggleClass("active"),"#"==$(this).attr("href")?s.preventDefault():($(".classic-menu").removeClass("visible"),$(".classic-menu .sandwich-icon").removeClass("opened"),$(".classic-menu").scrollTop(0))}),$(".classic-menu-hot-links").css("text-align",$(".classic-menu-hot-links>li>a").css("text-align"))):($(".classic-menu").removeClass("responsive").removeClass("visible"),$(".classic-menu").hasClass("mini")?""!=IRON.state.logo.logo_mini_url&&$(".classic-menu").find(".classic-menu-logo").attr("src",IRON.state.logo.logo_mini_url):""!=s&&($(".classic-menu").find(".classic-menu-logo").attr("src",s),$(".classic-menu").find(".classic-menu-logo").attr("srcset",s+" 1x, "+e+" 2x")),$(".classic-menu .hotlink").attr("style",""),$(".classic-menu .responsive-header").remove()),$(".classic-menu.responsive .menu-container li .sub-menu").each(function(){var s=$(this).find("li").length,e=$(this).find("li").height();$(this).css("max-height",s*e+50)})}$(window).on("load",function(){$(".classic-menu").addClass("ready")}),$("html").hasClass("no-touchevents")?($(window).on("load",responsiveMenu),$(window).on("resize",responsiveMenu)):($(window).on("resize",responsiveMenu),$(window).on("load",responsiveMenu)),IRON.setupMenu=function(){$menu.find('>li:not(".hotlink")').length;var i,o,s="light"==IRON.state.logo.page_logo_select||"dark"==IRON.state.logo.page_logo_select?IRON.state.logo.page_logo_select:IRON.state.logo.logo_select,e=IRON.state.logo.logo_select;IRON.state.logo.light_responsive;void 0!==IRON.state.logo[s]&&(i=IRON.state.logo[s].url.slice(IRON.state.logo[s].url.indexOf("/")),o=IRON.state.logo[s].url_retina.slice(IRON.state.logo[s].url_retina.indexOf("/")));var l,a=IRON.state.logo.logo_mini_url.slice(IRON.state.logo.logo_mini_url.indexOf("/")),n=IRON.state.logo[e].url.slice(IRON.state.logo[e].url.indexOf("/")),t=(IRON.state.logo[e].url_retina.slice(IRON.state.logo[e].url_retina.indexOf("/")),0);$(document).on("scroll touchmove",function(s){var e=$(this).scrollTop(),l=$(this).scrollTop();!$(".classic-menu").hasClass("mini-active")&&!$(".classic-menu").hasClass("mini-fullwidth-active")||$(".classic-menu").hasClass("responsive")||(150<e&&($(".classic-menu").hasClass("mini")||$(".classic-menu").addClass("mini"),i!==n&&$(".classic-menu").find(".classic-menu-logo").attr("src")!=n&&($(".classic-menu").find(".classic-menu-logo").attr("src",n),$(".classic-menu").find(".classic-menu-logo").attr("srcset",n+" 1x, "+a+" 2x")),""!=a&&$(".classic-menu").find(".classic-menu-logo").attr("src")!=a&&($(".classic-menu").find(".classic-menu-logo").attr("src",a),$(".classic-menu").find(".classic-menu-logo").attr("srcset",a+" 1x, "+a+" 2x"))),e<=150&&($(".classic-menu").hasClass("mini")&&$(".classic-menu").removeClass("mini"),$(".classic-menu").find(".classic-menu-logo").attr("src")!=i&&($(".classic-menu").find(".classic-menu-logo").attr("src",i),$(".classic-menu").find(".classic-menu-logo").attr("srcset",i+" 1x, "+o+" 2x")),$(".classic-menu").css("height","")),$(".classic-menu").hasClass("sr_hideOnScroll")&&(650<e?$(".classic-menu").hasClass("sr_hidden")||$(".classic-menu").addClass("sr_hidden"):$(".classic-menu").hasClass("sr_hidden")&&$(".classic-menu").removeClass("sr_hidden"))),l<t?$(".classic-menu.fixed.mini.sr_hideOnScroll").removeClass("sr_hidden"):$(".classic-menu.sr_scrollToTop").addClass("sr_hidden"),t=l}),IRON.state.logo.enable?l=IRON.state.logo.dark.url||IRON.state.logo.light.url||IRON.state.logo.light.url||IRON.state.logo.responsive.url?$('<div class="logo '+IRON.state.logo.logo_align+'"><a href="'+IRON.state.site_url+'"><img class="classic-menu-logo" src="'+i+'" srcset="'+i+" 1x, "+o+' 2x" alt="'+IRON.state.site_name+'"></a></div>'):$('<div class="logo '+IRON.state.logo.logo_align+'"><a href="'+IRON.state.site_url+'">'+IRON.state.site_name+"</a></div>"):""!=IRON.state.logo.responsive.url&&""!=i&&(l=$('<div class="logo logo-mobile-only"><a href="'+IRON.state.site_url+'"><img class="classic-menu-logo" src="'+i+'" srcset="'+i+" 1x, "+o+' 2x" alt="'+IRON.state.site_name+'"></a></div>')),""==IRON.state.logo.responsive.url&&!IRON.state.logo.enable||$wrap.find(".logo").length?$wrap.find(".logo img").attr({src:i,srcset:i+" 1x, "+o+" 2x"}):$wrap.find(".menu-container").prepend(l),$wrap.hasClass("classic_menu_logo_align-pull-center")&&($wrap.find(".spacer").remove(),$wrap.find(".classic-menu-hot-links").length&&$wrap.find(".classic-menu-hot-links"),$wrap.find(".logo").length&&!$menu.find(".logo").length&&(e=$wrap.find(".logo").clone(),l=$menu.find(">li").eq(Math.floor($menu.find(">li").length/2)),$(e).insertBefore(l))),$menu.find(">li a").on("mouseover",function(s){var e;0<$(this).find(" + ul").length&&((e=$(this).find(" + ul")).outerWidth(!0)+e.offset().left>$(window).width()&&$(this).parent().addClass("collision"))})},$(window).on("load",IRON.setupMenu);